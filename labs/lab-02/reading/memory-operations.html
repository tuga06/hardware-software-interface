<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(7)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(3) > ul > li:nth-child(7) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(3) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(3) > ul > li:nth-child(7) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list > li.nav-list-item:nth-child(7) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Reading: Pointers | HSI</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Reading: Pointers" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A course exploring the interaction between computer hardware and software." /> <meta property="og:description" content="A course exploring the interaction between computer hardware and software." /> <meta property="og:site_name" content="HSI" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Reading: Pointers" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A course exploring the interaction between computer hardware and software.","headline":"Reading: Pointers","url":"/labs/lab-02/reading/memory-operations.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> HSI </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Hardware Software Interface (OER)</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Labs category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/README.html" class="nav-list-link">Labs</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/setup/README.html" class="nav-list-link">Setup</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 1 - Number Representation category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-01/README.html" class="nav-list-link">Lab 1 - Number Representation</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-01/tasks/conversions/README.html" class="nav-list-link">Task: Conversions</a></li><li class="nav-list-item"><a href="/labs/lab-01/tasks/rotations/README.html" class="nav-list-link">Task: Rotations</a></li><li class="nav-list-item"><a href="/labs/lab-01/tasks/odd-even/README.html" class="nav-list-link">Task: Binary Even and Hexadecimal Odd</a></li><li class="nav-list-item"><a href="/labs/lab-01/tasks/len-xor/README.html" class="nav-list-link">Task: Length and Equality with Bitwise Operations</a></li><li class="nav-list-item"><a href="/labs/lab-01/tasks/mirror/README.html" class="nav-list-link">Task: Reversing a String</a></li><li class="nav-list-item"><a href="/labs/lab-01/reading/binary-hex.html" class="nav-list-link">Reading: Binary and Hexadecimal Systems</a></li><li class="nav-list-item"><a href="/labs/lab-01/reading/c-pointers.html" class="nav-list-link">Reading: Pointers in C</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 2 - Memory Operations. Introduction to GDB category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-02/README.html" class="nav-list-link">Lab 2 - Memory Operations. Introduction to GDB</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-02/tasks/iterate/README.html" class="nav-list-link">Task: Iterating through an Integer Array</a></li><li class="nav-list-item"><a href="/labs/lab-02/tasks/delete_first/README.html" class="nav-list-link">Task: Deleting the First Occurrence of a Pattern from a String</a></li><li class="nav-list-item"><a href="/labs/lab-02/tasks/pixels/README.html" class="nav-list-link">Task: Pixels</a></li><li class="nav-list-item"><a href="/labs/lab-02/tasks/find_max/README.html" class="nav-list-link">Task: Find Maximum in Array</a></li><li class="nav-list-item"><a href="/labs/lab-02/tasks/pointers/README.html" class="nav-list-link">Task: Pointers</a></li><li class="nav-list-item"><a href="/labs/lab-02/tasks/inspect/README.html" class="nav-list-link">Task: Data Inspection</a></li><li class="nav-list-item"><a href="/labs/lab-02/reading/memory-operations.html" class="nav-list-link">Reading: Pointers</a></li><li class="nav-list-item"><a href="/labs/lab-02/guides/array-vs-pointer/README.html" class="nav-list-link">Guide: Array vs. Pointer</a></li><li class="nav-list-item"><a href="/labs/lab-02/reading/introduction-to-GDB.html" class="nav-list-link">Reading: GNU Debugger (GDB)</a></li><li class="nav-list-item"><a href="/labs/lab-02/guides/segfault/README.html" class="nav-list-link">Guide: GDB Tutorial - Debugging a Segfault</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 3 - Toolchain. GOTO category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-03/README.html" class="nav-list-link">Lab 3 - Toolchain. GOTO</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-03/tasks/vector_max/README.html" class="nav-list-link">Task: Vector Max</a></li><li class="nav-list-item"><a href="/labs/lab-03/tasks/binary_search/README.html" class="nav-list-link">Task: Binary Search</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Reverse - Old Hits category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-03/tasks/old-hits/README.html" class="nav-list-link">Task: Reverse - Old Hits</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-03/tasks/old-hits/solution/README.html" class="nav-list-link">Writeup</a></li></ul></li><li class="nav-list-item"><a href="/labs/lab-03/reading/c-goto-statements.html" class="nav-list-link">Reading: C basics - GOTOs</a></li><li class="nav-list-item"><a href="/labs/lab-03/guides/goto-warm-up/README.html" class="nav-list-link">Guide: C - Warm-up GOTOs</a></li><li class="nav-list-item"><a href="/labs/lab-03/reading/reverse-engineering.html" class="nav-list-link">Reading: Reverse Engineering</a></li><li class="nav-list-item"><a href="/labs/lab-03/guides/compiler-explorer-tutorial/README.html" class="nav-list-link">Guide: Online C Compiling</a></li><li class="nav-list-item"><a href="/labs/lab-03/guides/ghidra-tutorial/README.html" class="nav-list-link">Guide: Ghidra Tutorial - Decompiling</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 4 - Introduction to Assembly Language category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-04/README.html" class="nav-list-link">Lab 4 - Introduction to Assembly Language</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-04/tasks/conditional-jumps/README.html" class="nav-list-link">Task: Conditional Jumps</a></li><li class="nav-list-item"><a href="/labs/lab-04/tasks/grumpy-jumps/README.html" class="nav-list-link">Task: Grumpy Jumps</a></li><li class="nav-list-item"><a href="/labs/lab-04/tasks/sets/README.html" class="nav-list-link">Task: Sets</a></li><li class="nav-list-item"><a href="/labs/lab-04/tasks/min/README.html" class="nav-list-link">Task: Min</a></li><li class="nav-list-item"><a href="/labs/lab-04/tasks/fibonacci/README.html" class="nav-list-link">Task: Fibonacci</a></li><li class="nav-list-item"><a href="/labs/lab-04/tasks/cf-of/README.html" class="nav-list-link">Task: Carry Flag - Overflow Flag</a></li><li class="nav-list-item"><a href="/labs/lab-04/reading/introduction.html" class="nav-list-link">Reading: Introduction</a></li><li class="nav-list-item"><a href="/labs/lab-04/reading/x86-architecture-family.html" class="nav-list-link">Reading: x86 Family</a></li><li class="nav-list-item"><a href="/labs/lab-04/guides/instructions/README.html" class="nav-list-link">Guide: First Look at Assembly Instructions</a></li><li class="nav-list-item"><a href="/labs/lab-04/guides/discovering-assembly/README.html" class="nav-list-link">Guide: Discovering Assembly</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 5 - Registers and Memory Addressing category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-05/README.html" class="nav-list-link">Lab 5 - Registers and Memory Addressing</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-05/tasks/div/README.html" class="nav-list-link">Task: Division of Two Numbers</a></li><li class="nav-list-item"><a href="/labs/lab-05/tasks/mul/README.html" class="nav-list-link">Task: Multiplying Two Numbers</a></li><li class="nav-list-item"><a href="/labs/lab-05/tasks/sum-squared/README.html" class="nav-list-link">Task: Sum of First N Natural Numbers Squared</a></li><li class="nav-list-item"><a href="/labs/lab-05/tasks/sum-array/README.html" class="nav-list-link">Task: Sum of Elements in an Array</a></li><li class="nav-list-item"><a href="/labs/lab-05/tasks/vec-count-if/README.html" class="nav-list-link">Task: Count Array Elements</a></li><li class="nav-list-item"><a href="/labs/lab-05/reading/registers.html" class="nav-list-link">Reading: Registers</a></li><li class="nav-list-item"><a href="/labs/lab-05/guides/multiply-divide/README.html" class="nav-list-link">Guide: Multiply and Divide</a></li><li class="nav-list-item"><a href="/labs/lab-05/guides/floating-point-exception/README.html" class="nav-list-link">Guide: Floating Point Exception</a></li><li class="nav-list-item"><a href="/labs/lab-05/reading/memory-addressing.html" class="nav-list-link">Reading: Memory Addressing</a></li><li class="nav-list-item"><a href="/labs/lab-05/guides/addressing-arrays/README.html" class="nav-list-link">Guide: Addressing Arrays</a></li><li class="nav-list-item"><a href="/labs/lab-05/guides/declarations/README.html" class="nav-list-link">Guide: Declarations</a></li><li class="nav-list-item"><a href="/labs/lab-05/guides/loop/README.html" class="nav-list-link">Guide: Loop</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 6 - Structures, Vectors and Strings category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-06/README.html" class="nav-list-link">Lab 6 - Structures, Vectors and Strings</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-06/tasks/fibonacci/README.html" class="nav-list-link">Task: Fibonacci Sum</a></li><li class="nav-list-item"><a href="/labs/lab-06/tasks/print-structure/README.html" class="nav-list-link">Task: Modifying a Structure</a></li><li class="nav-list-item"><a href="/labs/lab-06/tasks/getters-setters/README.html" class="nav-list-link">Task: Getter-Setter</a></li><li class="nav-list-item"><a href="/labs/lab-06/tasks/find-substring/README.html" class="nav-list-link">Task: Finding a Substring in a String</a></li><li class="nav-list-item"><a href="/labs/lab-06/tasks/mul-arrays/README.html" class="nav-list-link">Task: Mul-arrays</a></li><li class="nav-list-item"><a href="/labs/lab-06/tasks/courses/README.html" class="nav-list-link">Task: Courses</a></li><li class="nav-list-item"><a href="/labs/lab-06/reading/structures.html" class="nav-list-link">Reading: Structured Data - Structures</a></li><li class="nav-list-item"><a href="/labs/lab-06/guides/students/README.html" class="nav-list-link">Guide: Students</a></li><li class="nav-list-item"><a href="/labs/lab-06/reading/arrays.html" class="nav-list-link">Reading: Structured Data - Arrays</a></li><li class="nav-list-item"><a href="/labs/lab-06/guides/max/README.html" class="nav-list-link">Guide: Max</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 7 - The Stack category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-07/README.html" class="nav-list-link">Lab 7 - The Stack</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-07/tasks/max/README.html" class="nav-list-link">Task: Max</a></li><li class="nav-list-item"><a href="/labs/lab-07/tasks/reverse-array/README.html" class="nav-list-link">Task: Reverse Array</a></li><li class="nav-list-item"><a href="/labs/lab-07/tasks/stack-addressing/README.html" class="nav-list-link">Task: Stack Addressing</a></li><li class="nav-list-item"><a href="/labs/lab-07/tasks/local-var/README.html" class="nav-list-link">Task: Local Var</a></li><li class="nav-list-item"><a href="/labs/lab-07/tasks/gcd/README.html" class="nav-list-link">Task: GCD - Greatest Common Divisor</a></li><li class="nav-list-item"><a href="/labs/lab-07/reading/stack.html" class="nav-list-link">Reading: Introduction to the Stack</a></li><li class="nav-list-item"><a href="/labs/lab-07/guides/stack-operations/README.html" class="nav-list-link">Guide: Stack Operations</a></li><li class="nav-list-item"><a href="/labs/lab-07/guides/stack-addressing/README.html" class="nav-list-link">Guide: Stack Addressing</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 8 - Functions category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-08/README.html" class="nav-list-link">Lab 8 - Functions</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-08/tasks/string-print/README.html" class="nav-list-link">Task: Displaying a String</a></li><li class="nav-list-item"><a href="/labs/lab-08/tasks/string-print-len/README.html" class="nav-list-link">Task: Displaying the Length of a String</a></li><li class="nav-list-item"><a href="/labs/lab-08/tasks/print-rev-string/README.html" class="nav-list-link">Task: Displaying the Reversed String</a></li><li class="nav-list-item"><a href="/labs/lab-08/tasks/to-upper/README.html" class="nav-list-link">Task: Implementing the toupper() Function</a></li><li class="nav-list-item"><a href="/labs/lab-08/tasks/rot13/README.html" class="nav-list-link">Task: Bonus: Rot13</a></li><li class="nav-list-item"><a href="/labs/lab-08/reading/functions.html" class="nav-list-link">Reading: Functions</a></li><li class="nav-list-item"><a href="/labs/lab-08/guides/hello-world/README.html" class="nav-list-link">Guide: Hello, World</a></li><li class="nav-list-item"><a href="/labs/lab-08/guides/disassembling-c/README.html" class="nav-list-link">Guide: Disassembling a C program</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 9 - The C - Assembly Interaction category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-09/README.html" class="nav-list-link">Lab 9 - The C - Assembly Interaction</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-09/tasks/max-c-calls/README.html" class="nav-list-link">Task: Maximum Calculation in Assembly with Call from C</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/stack-frame/README.html" class="nav-list-link">Task: Corrupt Stack Frame Debugging</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/max-assembly-calls/README.html" class="nav-list-link">Task: Maximum Calculation in C with Call from Assembly</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/regs-preserve/README.html" class="nav-list-link">Task: Keeping Records</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/include-fix/README.html" class="nav-list-link">Task: Warning (No Error)</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/export-fix/README.html" class="nav-list-link">Task: Repair Export Problems</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/max-c-calls-x64/README.html" class="nav-list-link">Task: Maximum Computation in Assembly with 64-bit C Call</a></li><li class="nav-list-item"><a href="/labs/lab-09/tasks/max-assembly-calls-x64/README.html" class="nav-list-link">Task: Maximum Calculation in C with Call from Assembly - 64 Bits</a></li><li class="nav-list-item"><a href="/labs/lab-09/reading/memory-layout-c-asm.html" class="nav-list-link">Reading: C - Assembly Interaction: Memory Perspective</a></li><li class="nav-list-item"><a href="/labs/lab-09/reading/stack-c-asm.html" class="nav-list-link">Reading: C - Assembly Interaction: Stack</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 10 - Buffer Management. Buffer Overflow category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-10/README.html" class="nav-list-link">Lab 10 - Buffer Management. Buffer Overflow</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-10/tasks/data-buffer/README.html" class="nav-list-link">Task: Buffer in the .data Section</a></li><li class="nav-list-item"><a href="/labs/lab-10/tasks/stack-buffer/README.html" class="nav-list-link">Task: Buffer on the Stack</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Reading Data from Standard Input category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-10/tasks/read-stdin-gets/README.html" class="nav-list-link">Task: Reading Data from Standard Input</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-10/tasks/read-stdin-gets/solution/README.html" class="nav-list-link">Writeup</a></li></ul></li><li class="nav-list-item"><a href="/labs/lab-10/tasks/read-stdin-fgets/README.html" class="nav-list-link">Task: Buffer Overflow with Data from Standard Input and fgets()</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Buffer Overflow for Program Written in C category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-10/tasks/overflow-in-c/README.html" class="nav-list-link">Task: Buffer Overflow for Program Written in C</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-10/tasks/overflow-in-c/solution/README.html" class="nav-list-link">Writeup</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Overwrite Return Address category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-10/tasks/overwrite-ret-addr/README.html" class="nav-list-link">Task: Overwrite Return Address</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-10/tasks/overwrite-ret-addr/solution/README.html" class="nav-list-link">Writeup</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Buffer Overflow for Binary category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-10/tasks/overflow-for-binary/README.html" class="nav-list-link">Task: Buffer Overflow for Binary</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-10/tasks/overflow-for-binary/solution/README.html" class="nav-list-link">Writeup</a></li></ul></li><li class="nav-list-item"><a href="/labs/lab-10/reading/buffers-intro.html" class="nav-list-link">Reading: Introduction to Buffers</a></li><li class="nav-list-item"><a href="/labs/lab-10/reading/overflow-vuln.html" class="nav-list-link">Reading: Buffer Overflow Attacks</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 11 - Linking category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-11/README.html" class="nav-list-link">Lab 11 - Linking</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-11/tasks/entry-fix-1/README.html" class="nav-list-link">Task: Fixing the Entry Point 1</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/entry-fix-2/README.html" class="nav-list-link">Task: Fixing the Entry Point</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/include-fix/README.html" class="nav-list-link">Task: Warning (not an Error)</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/vars-obs/README.html" class="nav-list-link">Task: Using Variables</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/var-func-fix/README.html" class="nav-list-link">Task: Using Symbols (Variables and Functions)</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/export-fix/README.html" class="nav-list-link">Task: Fixing Export Issues</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/lib-fix/README.html" class="nav-list-link">Task: Fixing Library Issues</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/obj-link-dev/README.html" class="nav-list-link">Task: Linking an Object File (without Source Code)</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/single-link/README.html" class="nav-list-link">Task: Linking a Single File</a></li><li class="nav-list-item"><a href="/labs/lab-11/tasks/multiple-link/README.html" class="nav-list-link">Task: Linking Multiple Files</a></li><li class="nav-list-item"><a href="/labs/lab-11/reading/linking.html" class="nav-list-link">Reading: Linking</a></li><li class="nav-list-item"><a href="/labs/lab-11/guides/cpp-obs/README.html" class="nav-list-link">Guide: Linking C and C++</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 12 - CTF category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/README.html" class="nav-list-link">Lab 12 - CTF</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Hidden in Plain Sight category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/hidden-in-plain-sight-1/README.html" class="nav-list-link">Task: Hidden in Plain Sight</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/hidden-in-plain-sight-1/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Hidden in Plain Sight 2 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/hidden-in-plain-sight-2/README.html" class="nav-list-link">Task: Hidden in Plain Sight 2</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/hidden-in-plain-sight-2/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><a href="/labs/lab-12/tasks/look-at-him-go/README.html" class="nav-list-link">Task: Look at Him Go</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Playing God category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/playing-god/README.html" class="nav-list-link">Task: Playing God</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/playing-god/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Indirect Business category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/indirect-business/README.html" class="nav-list-link">Task: Indirect Business</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/indirect-business/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: RIP My Buffers Off category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/rip-my-buffers-off/README.html" class="nav-list-link">Task: RIP My Buffers Off</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/rip-my-buffers-off/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: Feeling Chained category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/feeling-chained/README.html" class="nav-list-link">Task: Feeling Chained</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/feeling-chained/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Task: ROP category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/labs/lab-12/tasks/rop/README.html" class="nav-list-link">Task: ROP</a><ul class="nav-list"><li class="nav-list-item"><a href="/labs/lab-12/tasks/rop/solution/README.html" class="nav-list-link">Solution</a></li></ul></li><li class="nav-list-item"><a href="/labs/lab-12/reading/rop.html" class="nav-list-link">Reading: CTF</a></li></ul></li></ul></li><li class="nav-list-item"><a href="/CONTRIBUTING.html" class="nav-list-link">Contributing to Hardware Software Interface OER</a></li><li class="nav-list-item"><a href="/rules-and-grading.html" class="nav-list-link">Rules and Grading</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search HSI" aria-label="Search HSI" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/labs/README.html">Labs</a></li> <li class="breadcrumb-nav-list-item"><a href="/labs/lab-02/README.html">Lab 2 - Memory Operations. Introduction to GDB</a></li> <li class="breadcrumb-nav-list-item"><span>Reading: Pointers</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="reading-pointers"> <a href="#reading-pointers" class="anchor-heading" aria-labelledby="reading-pointers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reading: Pointers </h1> <p>In the C programming language, memory interaction is achieved through pointers. We remind you that a pointer is a variable that holds a memory address. The general declaration form is as follows: <code class="language-plaintext highlighter-rouge">type *variable_name</code>, where <code class="language-plaintext highlighter-rouge">type</code> can represent any valid data type in C.</p> <blockquote> <p><strong>WARNING:</strong> The <strong>asterisk (<code class="language-plaintext highlighter-rouge">*</code>)</strong> used in declaring a pointer denotes that it is a pointer and should not be confused with the dereference operator. These are two entirely different concepts represented by the same symbol. Declaring a pointer does not mean allocating a memory area to store data. A pointer is also a data type, whose value is a number representing a memory address. The size of the pointer data type is always the same, regardless of the type of data it points to, and is determined by the architecture and operating system on which the program was compiled (but usually 4 bytes on 32-bit systems and 8 bytes on 64-bit systems).</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0xCAFEBABE</span><span class="p">;</span> <span class="cm">/* Declaring a pointer */</span>
  <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span> <span class="cm">/* The value at the address stored in p */</span>
</code></pre></div> </div> </blockquote> <p>In C, a pointer can represent:</p> <ul> <li>The address of data of a certain type</li> <li>The address of a memory area</li> <li>The address of a function</li> <li>The address where data of an unknown type is held (void pointer)</li> </ul> <blockquote> <p><strong>TIP:</strong> The size of a pointer depends on the architecture and operating system on which the program was compiled. The size of a pointer is determined by <code class="language-plaintext highlighter-rouge">sizeof(void*)</code> and is not necessarily equal to the size of an <code class="language-plaintext highlighter-rouge">int</code>.</p> </blockquote> <h2 id="pointer-operations-and-pointer-arithmetic"> <a href="#pointer-operations-and-pointer-arithmetic" class="anchor-heading" aria-labelledby="pointer-operations-and-pointer-arithmetic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pointer Operations and Pointer Arithmetic </h2> <p>Arithmetic operations on pointers are slightly different from those on integer data types. The only valid operations are <strong>incrementing</strong> or <strong>decrementing</strong> a pointer, <strong>adding</strong> or <strong>subtracting</strong> an integer from a pointer, and subtracting two pointers of the <strong>same type</strong>. The behavior of these operations is influenced by the data type to which the pointers refer.</p> <p>When incrementing a pointer related to a data type <code class="language-plaintext highlighter-rouge">T</code>, the address is not increased by 1 but by the value <code class="language-plaintext highlighter-rouge">sizeof(T)</code>, which ensures addressing the next object of the same type. Similarly, adding an integer <code class="language-plaintext highlighter-rouge">n</code> to a pointer <code class="language-plaintext highlighter-rouge">p</code> (thus the operation <code class="language-plaintext highlighter-rouge">p + n</code>) actually represents <code class="language-plaintext highlighter-rouge">p + n * sizeof(*p)</code>. For example:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span> <span class="o">*</span><span class="n">char_ptr</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
<span class="kt">short</span> <span class="o">*</span><span class="n">short_ptr</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">;</span>
<span class="kt">int</span> <span class="o">*</span><span class="n">int_ptr</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>

<span class="o">++</span><span class="n">char_ptr</span><span class="p">;</span> <span class="cm">/* char_ptr will point to address 1001 */</span>
<span class="o">++</span><span class="n">short_ptr</span><span class="p">;</span> <span class="cm">/* short_ptr points to address 2002 */</span>
<span class="o">++</span><span class="n">int_ptr</span><span class="p">;</span> <span class="cm">/* int_ptr points to address 3004 */</span>
</code></pre></div></div> <p><img src="/labs/lab-02/media/arit.svg" alt="A diagram which visualizes arithmetic operations on pointers" /></p> <p>Subtracting two pointers is possible only if both have the same type. The result of the subtraction is obtained by calculating the difference between the memory addresses they point to. For example, calculating the length of a string:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="s">"Learn HSI, you must!"</span><span class="p">;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(;</span> <span class="o">*</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">++</span><span class="n">p</span><span class="p">);</span> <span class="cm">/* Iterating character by character until '\0' */</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"%ld"</span><span class="p">,</span> <span class="n">p</span> <span class="o">-</span> <span class="n">s</span><span class="p">);</span> <span class="cm">/** It will display 22, the length of the string
                       * referenced by `s`. */</span>
</code></pre></div></div> <h3 id="interpreting-data-in-memory"> <a href="#interpreting-data-in-memory" class="anchor-heading" aria-labelledby="interpreting-data-in-memory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interpreting Data in Memory </h3> <p>On most modern computers, the smallest unit of data that can be addressed is the <code class="language-plaintext highlighter-rouge">byte</code> (8 bits), meaning that we can view data in memory as a sequence of bytes, each with its own address. As mentioned in the <a href="lab1.md#binary-and-hexadecimal-systems">previous lab</a>, when we want to store information represented by multiple bytes, we need to consider the order imposed by the system architecture, called <a href="https://en.wikipedia.org/wiki/Endianness">endianness</a>. Below is the mechanism for extracting data from memory on a <strong>little-endian</strong> architecture:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mh">0xCAFEBABE</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">first_byte</span> <span class="o">=</span> <span class="o">*</span><span class="p">((</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span> <span class="cm">/* Extracting the first byte of n */</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">second_byte</span> <span class="o">=</span> <span class="o">*</span><span class="p">((</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span> <span class="o">&amp;</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="cm">/* Extracting the second byte of n */</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"0x%x, 0x%x</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">first_byte</span><span class="p">,</span> <span class="n">second_byte</span><span class="p">);</span> <span class="cm">/* It will display 0xBE, 0xBA */</span>
</code></pre></div></div> <blockquote> <p><strong>NOTE:</strong> For casted pointers, arithmetic operations are performed on the type to which they have been cast.</p> <p><strong>WARNING:</strong> Do not confuse <code class="language-plaintext highlighter-rouge">*p++</code> with <code class="language-plaintext highlighter-rouge">(*p)++</code>. In the first case, it increments the address pointed by <code class="language-plaintext highlighter-rouge">p</code>, while in the second case, it increments the value at that address. Arithmetic on pointers of type <code class="language-plaintext highlighter-rouge">void</code> is not possible due to the lack of a concrete data type they point to.</p> </blockquote> <h3 id="pointers-to-arrays"> <a href="#pointers-to-arrays" class="anchor-heading" aria-labelledby="pointers-to-arrays"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pointers to Arrays </h3> <p>There is a very close relationship between pointers and arrays. In C, the name of an array is a <em>constant pointer</em> (its address is allocated by the compiler and cannot be modified during execution) to the first element of the array: <code class="language-plaintext highlighter-rouge">v = &amp;v[0]</code>. For example:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">v</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
<span class="o">++</span><span class="n">p</span><span class="p">;</span> <span class="cm">/* Correct */</span>
<span class="o">++</span><span class="n">v</span><span class="p">;</span> <span class="cm">/* ERROR */</span>
</code></pre></div></div> <p>Arrays are stored in a continuous block of memory, so pointer arithmetic works the same way for arrays as well. Here are some equivalences:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="o">*</span><span class="n">v</span>
<span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="o">*</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">v</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="o">*</span><span class="p">(</span><span class="n">v</span> <span class="o">+</span> <span class="n">n</span><span class="p">)</span>
<span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="n">v</span>
<span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="n">v</span> <span class="o">+</span> <span class="mi">1</span>
<span class="o">&amp;</span><span class="n">v</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="n">v</span> <span class="o">+</span> <span class="n">n</span>
</code></pre></div></div> <p>Additionally, an array also contains information about its length and the total size occupied in memory, so <code class="language-plaintext highlighter-rouge">sizeof(v)</code> will return the space occupied in memory (number of bytes), and <code class="language-plaintext highlighter-rouge">sizeof(v) / sizeof(*v)</code> will return the number of elements in <code class="language-plaintext highlighter-rouge">v</code>.</p> <p>Using pointers, we can dynamically allocate memory. In this sense, dynamic allocation of a two-dimensional array (a matrix) can be done as follows:</p> <p>The traditional method, where we allocate an array of pointers to pointers:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="o">**</span><span class="n">array1</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">nrows</span> <span class="o">*</span> <span class="nf">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">array1</span><span class="p">));</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nrows</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">array1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">ncolumns</span> <span class="o">*</span> <span class="nf">sizeof</span><span class="p">(</span><span class="o">**</span><span class="n">array1</span><span class="p">));</span>
</code></pre></div></div> <p>If we want to keep the array in a continuous block of memory:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="o">**</span><span class="n">array2</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">nrows</span> <span class="o">*</span> <span class="nf">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">array2</span><span class="p">));</span>
<span class="n">array2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">nrows</span> <span class="o">*</span> <span class="n">ncolumns</span> <span class="o">*</span> <span class="nf">sizeof</span><span class="p">(</span><span class="o">**</span><span class="n">array2</span><span class="p">));</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nrows</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">array2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">array2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">ncolumns</span><span class="p">;</span>
</code></pre></div></div> <p>Below is the difference between the two approaches:</p> <p><img src="/labs/lab-02/media/arrays.svg" alt="A diagram which showcases the fact that the second approach keeps all the elements in a continuous block of memory, while the first fragments the lines in different places in memory" /></p> <p>In both cases, the elements of the matrix can be accessed using the indexing operator <code class="language-plaintext highlighter-rouge">[]</code>: <code class="language-plaintext highlighter-rouge">arrayX[i][j]</code>. Also, just like with vectors, we can replace indexing with pointer operations. Thus, <code class="language-plaintext highlighter-rouge">arr[i][j] = *(arr + i)[j] = *(*(arr + i) + j)</code>.</p> <blockquote> <p><strong>WARNING:</strong> Whenever you allocate memory using a pointer, use <code class="language-plaintext highlighter-rouge">p = malloc(n * sizeof(*p))</code> instead of <code class="language-plaintext highlighter-rouge">p = malloc(n * sizeof(int))</code>. Using <code class="language-plaintext highlighter-rouge">sizeof(*p)</code> makes the code more robust and self-documenting, so anyone reading the code will see that the correct number of bytes is being allocated without needing to check the data type that <code class="language-plaintext highlighter-rouge">p</code> is pointing to.</p> </blockquote> <h2 id="structures-and-pointers-to-structures"> <a href="#structures-and-pointers-to-structures" class="anchor-heading" aria-labelledby="structures-and-pointers-to-structures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Structures and Pointers to Structures </h2> <p>Structures are data types in which we can group multiple variables, possibly of different types (unlike arrays, which contain only data of the same type). A structure can be defined as follows:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">struct_name</span> <span class="p">{</span>
    <span class="n">field_declarations</span>
<span class="p">};</span>
</code></pre></div></div> <p>For simplifying declarations, we can associate a structure with a data type name: <code class="language-plaintext highlighter-rouge">typedef struct {field_declarations} struct_name;</code></p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">student</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">year</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">grade</span><span class="p">;</span>
<span class="p">}</span> <span class="n">Student</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Student</span> <span class="n">s</span><span class="p">;</span>
    <span class="n">s</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">malloc</span><span class="p">(</span><span class="mi">20</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">.</span><span class="n">name</span><span class="p">));</span>
    <span class="n">s</span><span class="p">.</span><span class="n">year</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>Accessing members of a structure is done using the <code class="language-plaintext highlighter-rouge">.</code> operator.</p> <p>In the case of pointers to structures, accessing members is done by dereferencing the pointers:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Student</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">Student</span> <span class="o">*</span><span class="p">)</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">));</span>
<span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">).</span><span class="n">year</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="cm">/* In practice, to ease writing, the "-&gt;" operator is used */</span>
<span class="n">s</span><span class="o">-&gt;</span><span class="n">year</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
</code></pre></div></div> <p>The size of a structure is not always equal to the sum of the sizes of its fields. This happens because of padding added by the compiler to ensure proper memory alignment. Padding is added after a structure member followed by another member with a larger size, or at the end of the structure.</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="n">A</span> <span class="p">{</span>
    <span class="cm">/* sizeof(int) = 4  */</span>
    <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
    <span class="cm">/* Padding with 4 bytes */</span>

    <span class="cm">/* sizeof(double) = 8 */</span>
    <span class="kt">double</span> <span class="n">z</span><span class="p">;</span>

    <span class="cm">/* sizeof(short) = 2 */</span>
    <span class="kt">short</span> <span class="n">y</span><span class="p">;</span>
    <span class="cm">/* Padding with 6 bytes */</span>
<span class="p">};</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"Size of struct: %zu"</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">A</span><span class="p">))</span> <span class="cm">/* Will print 24 */</span>
</code></pre></div></div> <p><img src="/labs/lab-02/media/padding.svg" alt="A diagram visualizing the padding of each structure field, 4 bytes for x, 6 for y, and 0 for z" /></p> <p>The red portion represents the padding added by the compiler, and the green parts represent the structures members.</p> <p>However, we can prevent the compiler from adding padding by using <code class="language-plaintext highlighter-rouge">__attribute__((packed))</code> when declaring the structure (More details about this in the Computer Communication Protocols course). Thus, for the previous example, the result would be 14.</p> <blockquote> <p><strong>NOTE:</strong> If you declare pointers to structures, dont forget to allocate memory for them before accessing the structure fields. Also, remember to allocate and initialize structure fields that are pointer types before using them. Also, pay attention to how you access structure fields.</p> </blockquote> <h2 id="void-pointers"> <a href="#void-pointers" class="anchor-heading" aria-labelledby="void-pointers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Void Pointers </h2> <p>Memory can be seen as an array of bytes, accessible through pointers. By the type of the pointer, the addressed memory area gains a certain interpretation, as discussed above. There are cases where we want to address a zone of this <em>array</em> in a generic way, thus requiring <strong>void pointers</strong>.</p> <p>A pointer to <code class="language-plaintext highlighter-rouge">void</code> is a pointer that does not have an associated type. Void pointers have a <strong>high flexibility</strong> because they can point to any type of data, but they also have a <strong>limitation</strong> in that they cannot be dereferenced, and to be used in pointer operations, they need to be converted to a known data type.</p> <p>They are most commonly used in the implementation of <strong>generic functions</strong>. For example, the functions <code class="language-plaintext highlighter-rouge">malloc()</code> and <code class="language-plaintext highlighter-rouge">calloc()</code> return a pointer to void, allowing these functions to be used for memory allocation for any data type.</p> <p>An example of using void pointers is as follows:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">increment</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">element_size</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* Check if the data entered is a char */</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">element_size</span> <span class="o">==</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">))</span> <span class="p">{</span>
        <span class="cm">/* As mentioned, to be dereferenced,
         * a void pointer needs to be cast
         */</span>
        <span class="kt">char</span> <span class="o">*</span><span class="n">char_ptr</span> <span class="o">=</span> <span class="n">data</span><span class="p">;</span>
        <span class="o">++</span><span class="p">(</span><span class="o">*</span><span class="n">char_ptr</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">element_size</span> <span class="o">==</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="o">*</span><span class="n">int_ptr</span> <span class="o">=</span> <span class="n">data</span><span class="p">;</span>
        <span class="o">++</span><span class="p">(</span><span class="o">*</span><span class="n">int_ptr</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">'a'</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

    <span class="n">increment</span><span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">c</span><span class="p">));</span>
    <span class="n">increment</span><span class="p">(</span><span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%c, %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span> <span class="cm">/* Will print: b, 11 */</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <blockquote> <p><strong>NOTE:</strong> In <code class="language-plaintext highlighter-rouge">C</code>, it is not necessary to explicitly cast the assignment of a pointer of type T with a <code class="language-plaintext highlighter-rouge">void*</code> pointer.</p> <p><strong>Example (Good practice):</strong></p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="o">*</span><span class="n">array</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">array</span><span class="p">)</span> <span class="o">*</span> <span class="n">number_of_elements</span><span class="p">);</span>
</code></pre></div> </div> <p><strong>NOT like this:</strong></p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="o">*</span><span class="n">array</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">array</span><span class="p">)</span> <span class="o">*</span> <span class="n">number_of_elements</span><span class="p">);</span>
</code></pre></div> </div> </blockquote> <h2 id="pointers-in-functions-and-function-pointers"> <a href="#pointers-in-functions-and-function-pointers" class="anchor-heading" aria-labelledby="pointers-in-functions-and-function-pointers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pointers in Functions and Function Pointers </h2> <p>Within functions, pointers can be used for:</p> <ul> <li>Passing results through arguments</li> <li>Passing an address through the functions return</li> <li>Passing other functions and subsequently using them</li> </ul> <p>A function that needs to modify multiple values passed through arguments or that needs to transmit multiple calculated results within the function should use pointer arguments.</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="o">*</span><span class="n">a</span><span class="p">;</span>
    <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="o">*</span><span class="n">b</span><span class="p">;</span>
    <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"a = %d, b = %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span> <span class="cm">/* Will print a = 5, b = 3 */</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>A function can return a pointer, but this pointer cannot contain the address of a local variable. Most of the time, the result is one of the arguments, possibly modified within the function. For example:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span><span class="o">*</span> <span class="nf">toUpper</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* Takes a string and returns the string in uppercase */</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="sc">'a'</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="sc">'z'</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">32</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>If a function returns the address of a local variable, it must be static. The lifetime of a local variable ends when the execution of the function in which it was defined ends, and therefore the address of such a variable should not be passed outside the function.</p> <p>The name of a function represents the memory address at which the function begins. A function pointer is a variable that stores the address of a function that can be called later through that pointer. Usually, function pointers are used to pass a function as a parameter to another function.</p> <p>The declaration of a function pointer is done as follows: <code class="language-plaintext highlighter-rouge">type (*pf) (formal_parameter_list)</code></p> <p>Why is it necessary to use extra parentheses? Without them, we would be talking about a function that returns a pointer. Below are two examples of using function pointers:</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">add</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">subtract</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">operation</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">func</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">minus</span><span class="p">)(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="n">subtract</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="n">operation</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">minus</span><span class="p">));</span> <span class="cm">/* Will print 5 */</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>The <a href="http://www.cplusplus.com/reference/cstdlib/qsort/">qsort()</a> function from <code class="language-plaintext highlighter-rouge">stdlib.h</code> uses a function pointer as a comparator.</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">compare</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span> <span class="n">a</span> <span class="o">-</span> <span class="o">*</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="p">)</span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">v</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">325</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">};</span>
    <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">);</span>

    <span class="n">qsort</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">v</span><span class="p">),</span> <span class="n">compare</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%d "</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
